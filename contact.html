<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="css/SnowAlexandreStyle.css">
<meta charset="UTF-8">
  <meta name="description" content="My personal experience with blacksmithing.">
  <meta name="keywords" content="blacksmithing, hammer, forge, knives, armor">
  <meta name="author" content="Alexandre H. Snow">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact us</title>
<!--WEEK 6: Unfortunate Style situation, cannot get the CSS to read OR the script unless it's in the document for this setup-->
<style>
  #div1 {width:350px;height:70px;padding:10px;border:1px solid #aaaaaa;}
  /* Styles for the file upload container */
  .file-upload-container {
    border: 2px dashed #ccc;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    margin: 0 auto; /* Center the container */
    width: 75%; /* Span it 75% */
    background-color: lightgray; /* Background color */
  }

  .file-thumbnails {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 10px;
  }

  .file-thumbnail {
    margin: 5px;
    max-width: 100px;
    max-height: 100px;
    text-align: center;
  }
  
  .file-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .file-filename {
    max-width: 100px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* Styles for hiding the default file input */
  #fileInput {
    display: none;
  }
   fieldset {/* WEEK 6: styled */
    background-color: #00aaff;
	border: solid 1px black;
    -webkit-border-radius: 10px;
    -moz-border-radius: 18px;
    border-radius: 10px;
}
 
 legend {/* WEEK 6: styled */
    background-color: #FADEB2;
    padding: 5px 10px;
    border: solid 1px black;
    -webkit-border-radius: 10px;
    -moz-border-radius: 18px;
    border-radius: 10px;
}

 textarea { /* WEEK 7: styled */
	resize: none;
 }

textarea.contactinput {margin: auto; width: 100%; clear: both;}
textarea.contact input {margin: auto; width: 90%; clear: both;}
legend.buttons {margin: auto; width: 90%; clear: both;}

legend.buttons { /* WEEK 6: styled */
    text-align: center;
  }
</style>
<script src="js/menu.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<span style="color:white;font-size:30px;cursor:pointer" onclick="openNav()">&#9776; Menu</span>
<div id="Navigation" class="overlay">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <div class="overlay-content">
    <a href="index.html" class="button"><span>Main</span></a>
    <a href="about.html" class="button"><span>About</span></a>
    <a href="services.html" class="button"><span>Services</span></a>
    <a href="construction.html" class="button"><span>Getting Started<br>Cheap</span></a>
    <a href="shopping.html" class="button"><span>Shopping Sources</span></a>
    <a href="links.html" class="button"><span>Useful Links</span></a>
  </div>
</div>
<main>
<aside id="quote-container"><!-- WEEK 6: randomized This is a scroll-with-you displaying quotes by my favorite philosopher, different by page.-->
“Antisthenes used to say that envious people were devoured by their own disposition, just as iron is by rust. Envy of others comes from comparing what they have with what the envious person has, rather than the envious person realizing they have more than what they could have and certainly more than some others and being grateful. It is really just an inability to get a correct perspective on their lives.” ~ Diogenes
</aside>
<a id="Contact"></a>
<h3 style="text-align:center">Use this form to request a review of your idea.</h3><!--I have already fiddled with the required feature for input in prep of the coming assignment-->
<br><br>
<div class="contactform">
  <form method="post" action="https://formsubmit.co/swordinthestoneproductions@gmail.com" enctype="multipart/form-data">
    <div class="contact">
      <fieldset>
        <legend>E-mail:</legend> 
        <input type="email" name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" placeholder="Enter your email (my@email.com)" autofocus required><br>
      </fieldset>
      <br>
      <fieldset>
        <legend>Provide a brief description of what you'd like:</legend> 
        <input type="text" name="description" maxlength="150" placeholder="Enter a brief description (max 150 characters)" required><br>
      </fieldset>
    </div>
    <br>
    <div class="contact">
      <fieldset>
		<legend>Additional Info:</legend><!-- WEEK 7: input validation--> 
		Describe in some detail, what your project entails, dimensions, colors, and other details.<br>
		<textarea class="contactinput" name="addinfo" rows="12" cols="100" maxlength="2000" required placeholder="Enter more details">
		</textarea>
		<div id="charCount" style="position: relative; bottom: 0; right: -600px;">Characters remaining: 2000</div>
	  </fieldset>
    </div>
    <br><br><br>
    <!-- WEEK 6: File upload container (updated to support both drag and drop and clicks) -->
    <div class="file-upload-container" ondragover="handleDragOver(event)" ondrop="handleDrop(event)">
      <label for="fileInput">Drag and drop or click to upload a file, or<br>multiple files, no one file can exceed 5MB</label>
      <input type="file" id="fileInput" multiple onchange="handleFiles(event)" name="attachments[]">
    </div>
    <!-- WEEK 6: Autoresponse -->
    <input type="hidden" name="_autoresponse" value="We have received your submission! We will get back to you as soon as possible, Thank you!">
    <div class="file-thumbnails" id="fileThumbnails"></div>
    <br><br><br>
    <div class="contact">
      <br>
      <div class="submitbuttons">
        <fieldset>
          <legend class="buttons">Submit Your Request or Reset the form:</legend>
          <button class="submitbutton">Submit</button>
          <button class="resetbutton" type="reset" value="Reset" onclick="document.location.reload()">Reset</button><!--WEEK 5: Reset form by refresh of page. Not my intended function but having issues getting it working right other ways.-->
        </fieldset>
      </div>
    </div>
  </form>
</div>
<br><br><br>
</main>
<br>
<footer>
Copyright 2023 | Sword in the Stone Productions | <a href="mailto:swordinthestoneproductions@gmail.com">Email us!</a>
</footer>
<script><!--WEEK 7: -->
$(document).ready(function() {
    $('textarea[name="addinfo"]').on('input', function() {
      const remainingChars = 2000 - $(this).val().length;
      $('#charCount').text(`Characters remaining: ${remainingChars}`);
    });
  });
  <!--WEEK 6: -->
  const fileThumbnails = document.getElementById('fileThumbnails');

  function handleDrop(event) {
  event.preventDefault();
  displayThumbnails(event.dataTransfer.files);
}

function handleFiles(event) {
  displayThumbnails(event.target.files);
}

function displayThumbnails(files) {
  fileThumbnails.innerHTML = '';

  for (const file of files) {
    const thumbnailContainer = document.createElement('div');
    thumbnailContainer.classList.add('file-thumbnail');

    const thumbnailImage = document.createElement('img');
    thumbnailImage.src = URL.createObjectURL(file);

    const fileName = document.createElement('div');
    fileName.innerText = file.name;
    fileName.classList.add('file-filename'); // Add the filename class

    thumbnailContainer.appendChild(thumbnailImage);
    thumbnailContainer.appendChild(fileName);
    fileThumbnails.appendChild(thumbnailContainer);
  }
}
</script>
</body>
</html>